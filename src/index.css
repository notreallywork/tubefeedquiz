@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 240 10% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 240 10% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 240 10% 3.9%;
    --primary: 240 5.9% 10%;
    --primary-foreground: 0 0% 98%;
    --secondary: 240 4.8% 95.9%;
    --secondary-foreground: 240 5.9% 10%;
    --muted: 240 4.8% 95.9%;
    --muted-foreground: 240 3.8% 46.1%;
    --accent: 240 4.8% 95.9%;
    --accent-foreground: 240 5.9% 10%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 240 5.9% 90%;
    --input: 240 5.9% 90%;
    --ring: 240 5.9% 10%;
    --radius: 0.625rem;
    
    /* Game-specific variables */
    --base-width: 1920px;
    --base-height: 1080px;
    --scale: 1;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  html {
    font-family: 'Rubik', sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    touch-action: manipulation;
    user-select: none;
    -webkit-user-select: none;
  }
  
  body {
    @apply bg-blue-extralight text-black overflow-hidden;
    font-family: 'Rubik', sans-serif;
    width: 100vw;
    height: 100vh;
    margin: 0;
    padding: 0;
  }
  
  #root {
    width: 100%;
    height: 100%;
  }
}

@layer components {
  /* Game Container */
  .game-container {
    width: 100%;
    height: 100%;
    max-width: 1920px;
    max-height: 1080px;
    margin: 0 auto;
    position: relative;
    overflow: hidden;
  }
  
  /* Screen base */
  .screen {
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    display: flex;
    flex-direction: column;
  }
  
  /* Typography */
  .heading-1 {
    @apply text-[72px] font-bold leading-[1.1];
  }
  
  .heading-2 {
    @apply text-[48px] font-semibold leading-[1.2];
  }
  
  .heading-3 {
    @apply text-[36px] font-medium leading-[1.3];
  }
  
  .body-large {
    @apply text-[28px] font-normal leading-[1.4];
  }
  
  .body-text {
    @apply text-[24px] font-normal leading-[1.5];
  }
  
  .button-text {
    @apply text-[28px] font-semibold leading-none;
  }
  
  .caption {
    @apply text-[20px] font-normal leading-[1.4] text-grey-extradark;
  }
  
  .score-display {
    @apply text-[96px] font-bold leading-none;
  }
  
  /* Cards */
  .game-card {
    @apply bg-white rounded-2xl shadow-card;
  }
  
  .game-card-hover {
    @apply transition-all duration-200 ease-out;
  }
  
  .game-card-hover:hover {
    @apply -translate-y-1 shadow-card-hover;
  }
  
  /* Buttons */
  .btn-primary {
    @apply bg-orange text-white rounded-full font-semibold text-[28px] 
           px-16 py-6 shadow-button transition-all duration-200 
           hover:scale-105 active:scale-95 disabled:bg-grey-dark 
           disabled:opacity-50 disabled:cursor-not-allowed;
  }
  
  .btn-blue {
    @apply bg-blue text-white rounded-full font-semibold text-[28px] 
           px-16 py-6 transition-all duration-200 
           hover:scale-105 active:scale-95 disabled:bg-grey-dark 
           disabled:opacity-50 disabled:cursor-not-allowed;
  }
  
  .btn-green {
    @apply bg-green text-black rounded-full font-semibold text-[28px] 
           px-16 py-6 transition-all duration-200 
           hover:scale-105 active:scale-95;
  }
  
  /* Option cards */
  .option-card {
    @apply w-full h-20 bg-white border-2 border-grey-light rounded-xl 
           px-8 flex items-center transition-all duration-150 cursor-pointer;
  }
  
  .option-card:hover {
    @apply border-blue-light -translate-y-0.5 shadow-card;
  }
  
  .option-card.selected {
    @apply border-blue bg-blue-extralight shadow-[inset_0_0_0_2px_#007DB9];
  }
  
  .option-card:active {
    @apply scale-[0.98];
  }
  
  /* Progress bar */
  .progress-bar {
    @apply h-2 w-full flex;
  }
  
  .progress-segment {
    @apply flex-1 transition-all duration-300;
  }
  
  .progress-segment.completed {
    @apply bg-green;
  }
  
  .progress-segment.current {
    @apply bg-blue;
  }
  
  .progress-segment.future {
    @apply bg-grey-light;
  }
  
  /* Timer bar */
  .timer-bar {
    @apply h-3 w-full bg-grey-light;
  }
  
  .timer-fill {
    @apply h-full transition-all;
    transition-timing-function: linear;
    background: linear-gradient(90deg, #FF7300 0%, #FF2800 100%);
  }
  
  /* Slider */
  .confidence-slider {
    @apply relative w-[600px] h-2 bg-grey-light rounded;
  }
  
  .slider-fill {
    @apply absolute left-0 top-0 h-full bg-blue rounded;
  }
  
  .slider-handle {
    @apply absolute w-8 h-8 bg-green border-[3px] border-white rounded-full 
           shadow-md -translate-x-1/2 -translate-y-1/2 cursor-grab
           transition-transform active:scale-125 active:cursor-grabbing;
  }
  
  /* Draggable items */
  .draggable-item {
    @apply cursor-grab transition-all duration-200 active:cursor-grabbing;
  }
  
  .draggable-item.dragging {
    @apply scale-110 rotate-3 shadow-card-hover z-50;
  }
  
  /* Drop zones */
  .drop-zone {
    @apply border-2 border-dashed border-grey-light rounded-xl 
           flex items-center justify-center transition-all duration-200;
  }
  
  .drop-zone.hover {
    @apply border-blue bg-blue-extralight scale-[1.02];
  }
  
  .drop-zone.filled {
    @apply border-solid border-blue;
  }
  
  /* Modal overlay */
  .modal-overlay {
    @apply fixed inset-0 bg-black/30 flex items-center justify-center z-50;
  }
  
  .modal-card {
    @apply bg-white rounded-3xl shadow-modal max-w-[800px] w-full p-12;
  }
  
  /* Checkbox */
  .game-checkbox {
    @apply w-8 h-8 border-2 border-grey-light rounded-lg flex items-center justify-center
           transition-all duration-200;
  }
  
  .game-checkbox.checked {
    @apply bg-green border-green;
  }
  
  /* Leaderboard */
  .leaderboard-row {
    @apply h-16 border-b border-grey-light flex items-center px-4 transition-colors;
  }
  
  .leaderboard-row:hover {
    @apply bg-blue-extralight;
  }
  
  /* Attract mode gradient */
  .attract-gradient {
    background: linear-gradient(180deg, #007DB9 0%, #64DCB4 100%);
    background-size: 100% 200%;
  }
  
  /* Stats ticker */
  .stats-ticker {
    @apply whitespace-nowrap animate-scroll-ticker;
  }
  
  /* Animations */
  .animate-breathe {
    animation: breathe 4s ease-in-out infinite;
    transform-origin: bottom;
  }
  
  .animate-ekg {
    stroke-dasharray: 1000;
    stroke-dashoffset: 1000;
    animation: ekg 3s linear infinite;
  }
  
  /* Screen transitions */
  .screen-enter {
    @apply opacity-0 translate-y-5;
  }
  
  .screen-enter-active {
    @apply opacity-100 translate-y-0 transition-all duration-400;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .screen-exit {
    @apply opacity-100 translate-y-0;
  }
  
  .screen-exit-active {
    @apply opacity-0 -translate-y-5 transition-all duration-400;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }
}

@layer utilities {
  .duration-400 {
    transition-duration: 400ms;
  }
  
  .text-shadow {
    text-shadow: 0 4px 8px rgba(0,0,0,0.3);
  }
  
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
}
